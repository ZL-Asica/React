import{_ as i,c as a,o as e,ah as t}from"./chunks/framework.DSkQMUan.js";const c=JSON.parse('{"title":"useScript()","description":"","frontmatter":{},"headers":[],"relativePath":"docs/hooks/dom/useScript.md","filePath":"docs/hooks/dom/useScript.md"}'),l={name:"docs/hooks/dom/useScript.md"};function n(r,s,h,p,d,k){return e(),a("div",null,[...s[0]||(s[0]=[t(`<h1 id="usescript" tabindex="-1">useScript() <a class="header-anchor" href="#usescript" aria-label="Permalink to “useScript()”">​</a></h1><blockquote><p><strong>useScript</strong>(<code>src</code>, <code>options?</code>): <code>object</code></p></blockquote><p>Defined in: <a href="https://github.com/ZL-Asica/React/blob/95c71469aa34faea98e4c13872d39cd46ee42b1b/src/hooks/dom/useScript.ts#L142" target="_blank" rel="noreferrer">hooks/dom/useScript.ts:142</a></p><p>React hook to dynamically load an external <code>&amp;lt;script&amp;gt;</code> tag and track its status.</p><p>It:</p><ul><li>Reuses an existing <code>&lt;script src=&quot;...&quot;&gt;</code> element if one is already present.</li><li>Tracks a ScriptStatus value: <code>&#39;idle&#39; | &#39;loading&#39; | &#39;ready&#39; | &#39;error&#39;</code>.</li><li>Exposes convenience booleans <code>ready</code> and <code>error</code>.</li><li>Is safe to call during SSR (no DOM access on the server).</li></ul><p>When <code>src</code> is <code>null</code>, the hook:</p><ul><li>Does not create or modify any <code>&amp;lt;script&amp;gt;</code> element.</li><li>Always reports an effective status of <code>&#39;idle&#39;</code>.</li></ul><h2 id="parameters" tabindex="-1">Parameters <a class="header-anchor" href="#parameters" aria-label="Permalink to “Parameters”">​</a></h2><h3 id="src" tabindex="-1">src <a class="header-anchor" href="#src" aria-label="Permalink to “src”">​</a></h3><p>URL of the script to load. Use <code>null</code> to disable the hook.</p><p><code>string</code> | <code>null</code></p><h3 id="options" tabindex="-1">options? <a class="header-anchor" href="#options" aria-label="Permalink to “options?”">​</a></h3><p><code>UseScriptOptions</code> = <code>{}</code></p><p>Optional script tag attributes:</p><ul><li><code>async</code> — Sets <code>script.async</code> (default: <code>true</code>).</li><li><code>defer</code> — Sets <code>script.defer</code> when provided.</li></ul><h2 id="returns" tabindex="-1">Returns <a class="header-anchor" href="#returns" aria-label="Permalink to “Returns”">​</a></h2><p><code>object</code></p><p>An object describing the current load state:</p><ul><li><code>status</code>: One of <code>&#39;idle&#39; | &#39;loading&#39; | &#39;ready&#39; | &#39;error&#39;</code>.</li><li><code>ready</code>: <code>true</code> when <code>status === &#39;ready&#39;</code>.</li><li><code>error</code>: <code>true</code> when <code>status === &#39;error&#39;</code>.</li></ul><h3 id="status" tabindex="-1">status <a class="header-anchor" href="#status" aria-label="Permalink to “status”">​</a></h3><blockquote><p><strong>status</strong>: <code>ScriptStatus</code></p></blockquote><h3 id="ready" tabindex="-1">ready <a class="header-anchor" href="#ready" aria-label="Permalink to “ready”">​</a></h3><blockquote><p><strong>ready</strong>: <code>boolean</code></p></blockquote><h3 id="error" tabindex="-1">error <a class="header-anchor" href="#error" aria-label="Permalink to “error”">​</a></h3><blockquote><p><strong>error</strong>: <code>boolean</code></p></blockquote><h2 id="examples" tabindex="-1">Examples <a class="header-anchor" href="#examples" aria-label="Permalink to “Examples”">​</a></h2><div class="language-tsx"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">status</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ready</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">error</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useScript</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;https://example.com/sdk.js&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (error) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;Failed to load SDK.&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ready) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;Loading SDK…&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">RealComponentUsingSDK</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> /&gt;;</span></span></code></pre></div><div class="language-tsx"><button title="Copy Code" class="copy"></button><span class="lang">tsx</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> enabled</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useFeatureFlag</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;third-party-sdk&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> src</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> enabled </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;https://example.com/sdk.js&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> :</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">ready</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> useScript</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(src, { async: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, defer: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> });</span></span></code></pre></div>`,29)])])}const E=i(l,[["render",n]]);export{c as __pageData,E as default};
